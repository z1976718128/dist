(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29af91f1"],{"409f":function(e,t,n){"use strict";var a=n("bdc5"),s=n.n(a);s.a},"4ee0":function(e,t,n){"use strict";n.r(t);var a,s,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"incharge-page"},[a("van-nav-bar",{attrs:{fixed:"",border:"",title:e.titles,"left-arrow":""},on:{"click-left":e.goBack}}),a("van-tabs",{attrs:{sticky:"",swipeable:!0},on:{change:e.changeTab},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("van-tab",{attrs:{title:"我对接的"}},[a("van-pull-refresh",{on:{refresh:e.onPublishedRefresh},model:{value:e.published.refreshing,callback:function(t){e.$set(e.published,"refreshing",t)},expression:"published.refreshing"}},[a("van-list",{directives:[{name:"show",rawName:"v-show",value:e.published.list.length>0,expression:"published.list.length > 0"}],staticClass:"cell-group",attrs:{finished:e.published.finished,"finished-text":"没有更多了"},on:{load:e.loadMorePublished},model:{value:e.published.loading,callback:function(t){e.$set(e.published,"loading",t)},expression:"published.loading"}},e._l(e.published.list,(function(t){return a("dock-item",{key:t.id,attrs:{demand:t},on:{click:function(n){return e.handleDemandClick(t.id)}}})})),1),0===e.published.list.length?a("div",{staticClass:"no-content"},[a("img",{attrs:{src:n("d919"),alt:""}}),a("p",[a("strong",[e._v("暂无我对接的")])]),a("p",[e._v("暂无我对接的，快来发布吧~")])]):e._e()],1)],1),a("van-tab",{attrs:{title:"我解决的"}},[a("van-pull-refresh",{on:{refresh:e.onSolvedRefresh},model:{value:e.solved.refreshing,callback:function(t){e.$set(e.solved,"refreshing",t)},expression:"solved.refreshing"}},[a("van-list",{directives:[{name:"show",rawName:"v-show",value:e.solved.list.length>0,expression:"solved.list.length > 0"}],staticClass:"cell-group",attrs:{finished:e.solved.finished,"finished-text":"没有更多了"},on:{load:e.loadMoreSolved},model:{value:e.solved.loading,callback:function(t){e.$set(e.solved,"loading",t)},expression:"solved.loading"}},e._l(e.solved.list,(function(t){return a("demand-item",{key:t.id,attrs:{demand:t},on:{click:function(n){return e.handleDemandClick(t.id)}}})})),1),0===e.solved.list.length?a("div",{staticClass:"no-content"},[a("img",{attrs:{src:n("d919"),alt:""}}),a("p",[a("strong",[e._v("暂无我解决的")])]),a("p",[e._v("暂无我解决的，快去看看吧~")])]):e._e()],1)],1)],1)],1)},r=[],c=(n("5ab2"),n("6d57"),n("e10e"),n("54d0")),o=(n("419a"),n("e980")),l=(n("f548"),n("ac9f")),d=(n("9d47"),n("bb63")),u=(n("be9b"),n("db43")),h=(n("d807"),n("0fee")),b=(n("9cf9"),n("fad3")),f=(n("c4a4"),n("f734")),p=(n("bc44"),n("6628")),m=(n("b587"),n("e513")),v=(n("a1a0"),n("0cb8")),g=(n("cc57"),n("f408"),n("b4bb")),O=n("8876"),j=n("2b26"),_=n("fa8b"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-cell",{staticClass:"demand-card",on:{click:e.handleClick}},[n("template",{slot:"title"},[n("div",{staticClass:"title"},[n("van-icon",{attrs:{"class-prefix":"tj-icon",name:"cube"}}),"1"===e.demand.is_quality?n("van-tag",{staticStyle:{"vertical-align":"middle","margin-top":"-3px"},attrs:{color:"#c20026"}},[e._v("优质")]):e._e(),e._v("\n      "+e._s(e.demand.type_name)+" | "+e._s(e.demand.title)+"\n    ")],1),n("div",{staticClass:"content"},[n("van-icon",{attrs:{"class-prefix":"tj-icon",name:"tuceng"}}),n("span",{domProps:{innerHTML:e._s(e.demand.describe)}})],1),n("div",{staticClass:"location"},[n("van-icon",{attrs:{"class-prefix":"tj-icon",name:"biaodiandidian"}}),e._v("\n      "+e._s(e.demand.address)+"\n    ")],1)]),n("div",{staticClass:"time"},[e._v("\n    "+e._s(e.moment.unix(e.demand.addtime).format("YYYY-MM-DD"))+"\n  ")]),"0"===e.demand.demand_status?n("van-button",{staticClass:"action-btn waiting",attrs:{size:"small"}},[e._v("待审核")]):e._e(),"1"===e.demand.demand_status?n("van-button",{staticClass:"action-btn active",attrs:{size:"small"}},[e._v("待沟通")]):e._e(),"2"===e.demand.demand_status?n("van-button",{staticClass:"action-btn disable",attrs:{size:"small"}},[e._v("已解决")]):e._e(),"3"===e.demand.demand_status?n("van-button",{staticClass:"action-btn disable",attrs:{size:"small"}},[e._v("未通过")]):e._e(),"4"===e.demand.status?n("van-button",{staticClass:"action-btn disable",attrs:{size:"small"}},[e._v("已过期")]):e._e(),n("div",{staticClass:"view"},[e._v("点击量："+e._s(e.demand.visit))])],2)},k=[],x=(n("9c0f"),n("a9f0")),y=(n("10c2"),n("e3b4")),C=n("6bf2"),R=n.n(C),P={name:"demand-item",props:["demand"],components:(a={},Object(l["a"])(a,d["a"].name,d["a"]),Object(l["a"])(a,b["a"].name,b["a"]),Object(l["a"])(a,y["a"].name,y["a"]),Object(l["a"])(a,x["a"].name,x["a"]),a),data:function(){return{moment:R.a}},methods:{handleClick:function(){this.$emit("click")}}},$=P,D=(n("ce52"),n("623f")),S=Object(D["a"])($,w,k,!1,null,"b66762fa",null),I=S.exports,L=n("ea26");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(l["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={name:"about",components:(s={},Object(l["a"])(s,g["a"].name,g["a"]),Object(l["a"])(s,v["a"].name,v["a"]),Object(l["a"])(s,m["a"].name,m["a"]),Object(l["a"])(s,p["a"].name,p["a"]),Object(l["a"])(s,f["a"].name,f["a"]),Object(l["a"])(s,b["a"].name,b["a"]),Object(l["a"])(s,h["a"].name,h["a"]),Object(l["a"])(s,u["a"].name,u["a"]),Object(l["a"])(s,d["a"].name,d["a"]),Object(l["a"])(s,"DockItem",I),Object(l["a"])(s,"DemandItem",L["a"]),s),data:function(){return{active:0,titles:"我对接的",published:{list:[],page:1,limit:20,loading:!1,finished:!1,refreshing:!1},solved:{list:[],page:1,limit:20,loading:!1,finished:!1,refreshing:!1}}},computed:z({},Object(O["d"])(["from"]),{},Object(O["c"])(["userInfo"]),{tabName:function(){return this.$route.query.tab}}),mounted:function(){"publish"===this.tabName?this.active=0:"solve"===this.tabName&&(this.active=1),this.onPublishedRefresh(),this.onSolvedRefresh()},methods:{goBack:function(){this.from?this.$router.back():this.$router.replace("/demands")},changeTab:function(e,t){this.titles=t},onPublishedRefresh:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.published.page=1,e.next=3,this.fetchPublishedList();case 3:t=e.sent,this.published.list=t,console.log(this.published.list),this.published.refreshing=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadMorePublished:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.published.page=this.published.page+1,e.next=3,this.fetchPublishedList();case 3:t=e.sent,this.published.list=[].concat(Object(c["a"])(this.published.list),Object(c["a"])(t)),this.published.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchPublishedList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["o"])({page:this.published.page,limit:this.published.limit});case 2:return t=e.sent,console.log(t),this.published.finished=t.length<this.published.limit,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSolvedRefresh:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.solved.page=1,e.next=3,this.fetchSolvedList();case 3:t=e.sent,this.solved.list=t,this.solved.refreshing=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadMoreSolved:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.solved.page=this.solved.page+1,e.next=3,this.fetchSolvedList();case 3:t=e.sent,this.solved.list=[].concat(Object(c["a"])(this.solved.list),Object(c["a"])(t)),this.solved.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchSolvedList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["j"])({page:this.solved.page,limit:this.solved.limit,solve_user_id:this.userInfo.id});case 2:return t=e.sent,this.solved.finished=t.length<this.solved.limit,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDemandClick:function(e){var t=this;"2"!==this.userInfo.status?this.$dialog.confirm({title:"温馨提示",message:"您需要注册后才能进行该操作哦",confirmButtonText:"马上注册",cancelButtonText:"稍后再说"}).then((function(){"1"===t.userInfo.is_subscribe?t.$router.push("/my-card"):console.log("未注册用户")})).catch((function(){console.log("cancel dialog")})):"1"===this.userInfo.is_subscribe?this.$router.push("/demands/".concat(e)):console.log("未注册用户")}}},T=N,B=(n("409f"),Object(D["a"])(T,i,r,!1,null,"7871b042",null));t["default"]=B.exports},"95a6":function(e,t,n){},bdc5:function(e,t,n){},ce52:function(e,t,n){"use strict";var a=n("95a6"),s=n.n(a);s.a},d919:function(e,t,n){e.exports=n.p+"assets/img/no-content.c8c0b04c.png"}}]);
//# sourceMappingURL=chunk-29af91f1.4.0.0.1587547544754.js.map