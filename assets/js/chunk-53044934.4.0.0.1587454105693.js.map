{"version":3,"sources":["webpack:///./src/views/Settled.vue?1748","webpack:///./src/views/Settled.vue?822d","webpack:///./src/components/uploadImg.vue?286b","webpack:///src/components/uploadImg.vue","webpack:///./src/components/uploadImg.vue?42bc","webpack:///./src/components/uploadImg.vue","webpack:///src/views/Settled.vue","webpack:///./src/views/Settled.vue?14c3","webpack:///./src/views/Settled.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","goBack","staticClass","scopedSlots","_u","key","fn","uploadLogo","tled","logo","_v","proxy","ChangVal","model","value","callback","$$v","$set","expression","showIndustryPopup","selectedIndustry","uploadProduct","fileList","uploadFile","directives","name","rawName","_l","item","index","$event","chVal","_s","companyName","creditCode","save","ref","selectIndustry","clearIndustry","staticRenderFns","component","debounce","func"],"mappings":"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","file":"assets/js/chunk-53044934.4.0.0.1587454105693.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=style&index=0&id=b1e13aa0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=style&index=0&id=b1e13aa0&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"border\":\"\",\"title\":\"公司入驻\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}}),_c('van-cell-group',{staticClass:\"bottm\"},[_c('van-field',{attrs:{\"required\":\"\",\"label\":\"logo\",\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-uploader',{attrs:{\"after-read\":_vm.uploadLogo,\"accept\":\"image/*\"}},[(!_vm.tled.logo)?_c('van-button',{staticClass:\"btnColor\",attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(\"上传图片\")]):_c('img',{staticClass:\"uploaded-img\",attrs:{\"src\":_vm.tled.logo,\"alt\":\"\"}})],1)]},proxy:true}])}),_c('van-field',{staticClass:\"companyName\",attrs:{\"required\":\"\",\"clearable\":\"\",\"input-align\":\"right\",\"label\":\"公司全称\",\"placeholder\":\"请输入公司全称\"},on:{\"input\":_vm.ChangVal},model:{value:(_vm.tled.companyName),callback:function ($$v) {_vm.$set(_vm.tled, \"companyName\", $$v)},expression:\"tled.companyName\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"readonly\":\"\",\"input-align\":\"right\",\"label\":\"公司税号\",\"placeholder\":\"请输入公司税号\"},model:{value:(_vm.tled.creditCode),callback:function ($$v) {_vm.$set(_vm.tled, \"creditCode\", $$v)},expression:\"tled.creditCode\"}}),_c('van-field',{attrs:{\"required\":\"\",\"is-link\":\"\",\"readonly\":\"\",\"label\":\"公司行业\",\"placeholder\":\"请输入公司行业\",\"input-align\":\"right\",\"error-message-align\":\"right\"},on:{\"click\":_vm.showIndustryPopup},model:{value:(_vm.selectedIndustry),callback:function ($$v) {_vm.selectedIndustry=$$v},expression:\"selectedIndustry\"}}),_c('van-cell',{attrs:{\"required\":\"\",\"title\":\"主营业务/公司产品介绍\",\"border\":false}}),_c('van-field',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"公司主营业务\"},model:{value:(_vm.tled.business),callback:function ($$v) {_vm.$set(_vm.tled, \"business\", $$v)},expression:\"tled.business\"}}),_c('van-cell',{attrs:{\"required\":\"\",\"title\":\"公司地址\",\"border\":false}}),_c('van-field',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"公司地址\"},model:{value:(_vm.tled.address),callback:function ($$v) {_vm.$set(_vm.tled, \"address\", $$v)},expression:\"tled.address\"}}),_c('van-cell',{attrs:{\"required\":\"\",\"title\":\"公司简介\",\"border\":false}}),_c('van-field',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"公司简介\"},model:{value:(_vm.tled.brief),callback:function ($$v) {_vm.$set(_vm.tled, \"brief\", $$v)},expression:\"tled.brief\"}}),_c('van-cell',{attrs:{\"title\":\"公司图片或产品图片\",\"border\":false}}),_c('van-uploader',{staticClass:\"lf\",attrs:{\"max-count\":4,\"after-read\":_vm.uploadProduct,\"accept\":\"image/*\"},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"input-align\":\"right\",\"label\":\"联系人\",\"placeholder\":\"请输入联系人\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"input-align\":\"right\",\"label\":\"联系电话\",\"placeholder\":\"请输入联系电话\"}}),_c('van-field',{attrs:{\"required\":\"\",\"label\":\"入驻协议\",\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-uploader',{attrs:{\"after-read\":_vm.uploadFile}},[_c('van-button',{staticClass:\"btnColor\",attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(\"上传入驻协议\")])],1)]},proxy:true}])})],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSettled),expression:\"showSettled\"}],staticClass:\"list\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"24\"}},_vm._l((_vm.EnterpriseInfo),function(item,index){return _c('div',{key:index,staticClass:\"items\",on:{\"click\":function($event){return _vm.chVal(index)}}},[_c('p',[_vm._v(\"名称:\"+_vm._s(item.companyName))]),_c('p',[_vm._v(\"税号:\"+_vm._s(item.creditCode))])])}),0)],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('van-button',{attrs:{\"to\":\"/suppliers\",\"type\":\"default\",\"size\":\"large\",\"block\":\"\"}},[_vm._v(\"取消\")])],1),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('van-button',{staticClass:\"btnColor\",attrs:{\"type\":\"danger\",\"size\":\"large\",\"block\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1),_c('industry-popup',{ref:\"industryPopup\",attrs:{\"value\":_vm.selectedIndustry},on:{\"confirm\":_vm.selectIndustry,\"clear\":_vm.clearIndustry}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-uploader',{attrs:{\"multiple\":\"\",\"max-count\":2,\"after-read\":_vm.uploadProduct,\"accept\":\"image/*\"},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<!-- <van-uploader v-model=\"fileList\" :max-size=\"4\" multiple :after-read=\"uploadProduct\" accept=\"image/*\" /> -->\r\n\t<van-uploader v-model=\"fileList\" multiple :max-count=\"2\" :after-read=\"uploadProduct\" accept=\"image/*\"/>\r\n</template>\n\n<script>\r\n\timport {\r\n\t  Uploader,\r\n\t} from \"vant\";\t\r\nimport { uploadImage } from \"@/api/v3.js\";\t\r\nexport default{\r\n\tcomponents:{\r\n\t\t[Uploader.name]: Uploader,\r\n\t},\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tfileList:[],\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tasync uploadProduct({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"image\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await uploadImage(data);\r\n\t\t    toast.clear();\r\n\t\t    let imgArr = res.url;\r\n\t\t\tconsole.log(imgArr)\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t}\r\n}\t\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./uploadImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./uploadImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadImg.vue?vue&type=template&id=0149bc48&\"\nimport script from \"./uploadImg.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div>\r\n\t\t<van-nav-bar\r\n\t\t  fixed\r\n\t\t  border\r\n\t\t  title=\"公司入驻\"\r\n\t\t  left-arrow\r\n\t\t  @click-left=\"goBack\"\r\n\t\t/>\r\n\t\t<van-cell-group class=\"bottm\">\r\n\t\t\t<van-field\r\n\t\t\t  required\r\n\t\t\t  label=\"logo\"\r\n\t\t\t  readonly\r\n\t\t\t>\r\n\t\t\t  <template #button>\r\n\t\t\t\t  <van-uploader :after-read=\"uploadLogo\" accept=\"image/*\">\r\n\t\t\t\t\t<van-button v-if=\"!tled.logo\" size=\"small\" class=\"btnColor\" type=\"danger\" >上传图片</van-button>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t  v-else\r\n\t\t\t\t\t  class=\"uploaded-img\"\r\n\t\t\t\t\t  :src=\"tled.logo\"\r\n\t\t\t\t\t  alt=\"\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t </van-uploader>\r\n\t\t\t  </template>\r\n\t\t\t</van-field>\r\n\t\t  <van-field class=\"companyName\" required clearable  input-align=\"right\" @input=\"ChangVal\" v-model=\"tled.companyName\"  label=\"公司全称\" placeholder=\"请输入公司全称\" />\r\n\t\t  <van-field  required clearable readonly input-align=\"right\" v-model=\"tled.creditCode\"  label=\"公司税号\" placeholder=\"请输入公司税号\" />\r\n\t\t  <!-- tled.industry -->\r\n\t\t  <van-field\r\n\t\t    required\r\n\t\t    v-model=\"selectedIndustry\"\r\n\t\t    is-link\r\n\t\t    readonly\r\n\t\t    label=\"公司行业\"\r\n\t\t    placeholder=\"请输入公司行业\"\r\n\t\t    input-align=\"right\"\r\n\t\t    error-message-align=\"right\"\r\n\t\t    @click=\"showIndustryPopup\"\r\n\t\t  />\r\n\t\t  <van-cell required title=\"主营业务/公司产品介绍\" :border=\"false\" />\r\n\t\t  <van-field\r\n\t\t    class=\"textarea\"\r\n\t\t    type=\"textarea\"\r\n\t\t    placeholder=\"公司主营业务\"\r\n\t\t\tv-model=\"tled.business\"\r\n\t\t  />\r\n\t\t  <van-cell required title=\"公司地址\" :border=\"false\" />\r\n\t\t  <van-field\r\n\t\t    class=\"textarea\"\r\n\t\t    type=\"textarea\"\r\n\t\t    placeholder=\"公司地址\"\r\n\t\t\tv-model=\"tled.address\"\r\n\t\t  />\r\n\t\t  <van-cell required title=\"公司简介\" :border=\"false\" />\r\n\t\t  <van-field\r\n\t\t    class=\"textarea\"\r\n\t\t    type=\"textarea\"\r\n\t\t    placeholder=\"公司简介\"\r\n\t\t\tv-model=\"tled.brief\"\r\n\t\t  />\r\n\t\t  <!-- <uploadImg /> -->\r\n\t\t  <van-cell  title=\"公司图片或产品图片\" :border=\"false\" />\r\n\t\t  <van-uploader class=\"lf\" v-model=\"fileList\"  :max-count=\"4\" :after-read=\"uploadProduct\" accept=\"image/*\"/>\r\n\t\t  <van-field required clearable input-align=\"right\" label=\"联系人\" placeholder=\"请输入联系人\" />\r\n\t\t  <van-field  required clearable  input-align=\"right\" label=\"联系电话\" placeholder=\"请输入联系电话\" />\r\n\t\t  <van-field\r\n\t\t    required\r\n\t\t    label=\"入驻协议\"\r\n\t\t    readonly\r\n\t\t  >\r\n\t\t    <template #button>\r\n\t\t  \t  <van-uploader :after-read=\"uploadFile\" >\r\n\t\t  \t\t<van-button class=\"btnColor\" size=\"small\" type=\"danger\" >上传入驻协议</van-button>\r\n\t\t  \t </van-uploader>\r\n\t\t    </template>\r\n\t\t  </van-field>\r\n\t\t</van-cell-group>\r\n\t\t<!-- <van-popup v-model=\"visible\" position=\"bottom\" :overlay=\"true\">\r\n\t\t  <van-picker \r\n\t\t  :columns=\"columns\"\r\n\t\t   @cancel=\"onCancel\"\r\n\t\t   cancel-button-text=\"清除选择\"\r\n\t\t   confirm-button-text=\"确认\"\r\n\t\t   @confirm=\"onConfirm\"\r\n\t\t   show-toolbar\r\n\t\t/>\r\n\t\t</van-popup> -->\r\n\t\t<van-row class=\"list\" type=\"flex\" justify=\"center\" v-show=\"showSettled\">\r\n\t\t  <van-col span=\"24\">\r\n\t\t\t  <div class=\"items\" v-for=\"(item,index) in EnterpriseInfo\" :key=\"index\" @click=\"chVal(index)\">\r\n\t\t\t\t  <p>名称:{{item.companyName}}</p>\r\n\t\t\t\t  <p>税号:{{item.creditCode}}</p>\r\n\t\t\t  </div>\r\n\t\t  </van-col>\r\n\t\t</van-row>\r\n\t\t<van-row type=\"flex\" justify=\"space-between\" >\r\n\t\t\t<van-col span=\"12\">\r\n\t\t\t\t<van-button to=\"/suppliers\" type=\"default\" size=\"large\"  block >取消</van-button>\r\n\t\t\t</van-col>\r\n\t\t\t<van-col span=\"12\">\r\n\t\t\t\t<van-button type=\"danger\" class=\"btnColor\" size=\"large\"  block @click=\"save\">保存</van-button>\r\n\t\t\t</van-col>\r\n\t\t</van-row>\r\n\t\t\r\n\t\t<industry-popup\r\n\t\t  ref=\"industryPopup\"\r\n\t\t  :value=\"selectedIndustry\"\r\n\t\t  @confirm=\"selectIndustry\"\r\n\t\t  @clear=\"clearIndustry\"\r\n\t\t/>\r\n\t</div>\n</template>\n\n<script>\r\nfunction debounce(func, wait=1000){\r\n let timeout;\r\n return function(event){\r\n  clearTimeout(timeout)\r\n  timeout = setTimeout(()=>{\r\n   func.call(this, event)\r\n  },wait)\r\n }\r\n}\r\nimport axios  from \"axios\"\r\nimport { uploadImage } from \"@/api/v3.js\";\r\nimport { companyCreate } from \"@/api/v4.js\";\r\nimport IndustryPopup from \"../components/industry-popup\";\r\nimport uploadImg from \"@/components/uploadImg\"\r\nimport {\r\n  NavBar,\r\n  Icon,\r\n  Cell,\r\n  CellGroup,\r\n  Field,\r\n  Uploader,\r\n  Row,\r\n  Col,\r\n  Checkbox,\r\n  Tag,\r\n  Button,\r\n  Picker, Popup\r\n} from \"vant\";\t\r\nexport default{\r\n\tcomponents: {\r\n\t  [NavBar.name]: NavBar,\r\n\t  [Button.name]: Button,\r\n\t  [CellGroup.name]: CellGroup,\r\n\t  [Cell.name]: Cell,\r\n\t  [Field.name]: Field,\r\n\t  [Uploader.name]: Uploader,\r\n\t  [Row.name]: Row,\r\n\t  [Col.name]: Col,\r\n\t  [Icon.name]: Icon,\r\n\t  [Tag.name]: Tag,\r\n\t  [Checkbox.name]: Checkbox,\r\n\t  [Picker.name]: Picker,\r\n\t  [Popup.name]: Popup,\r\n\t  uploadImg,\r\n\t  IndustryPopup\r\n\t},\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tshowSettled:false,\r\n\t\t\tvalue:'',\r\n\t\t\tvisible:false,\r\n\t\t\tcolumns: [],\r\n\t\t\tEnterpriseInfo:[],\r\n\t\t\tfileList:[],\r\n\t\t\tselectedIndustryObj: [],\r\n\t\t\ttled:{\r\n\t\t\t\tcompanyName:\"\",\r\n\t\t\t\tcreditCode:\"\",\r\n\t\t\t\tbusiness:\"\",\r\n\t\t\t\taddress:\"\",\r\n\t\t\t\tbrief:\"\",\r\n\t\t\t\tproductImg:[],\r\n\t\t\t\tlogo:\"\"\r\n\t\t\t},\r\n\t\t}\r\n\t},\t\r\n\tcreated() {\r\n\t\tconst url = 'http://api.qianzhan.com/OpenPlatformService/GetToken'\r\n\t\taxios.get(url,{\r\n\t\t\tparams:{\r\n\t\t\ttype:\"json\",\r\n\t\t\tappkey:\"0a0e7a4ea774bab7\",\r\n\t\t\tseckey:\"942959a69431b1ad\"}\r\n\t\t}).then(res=>{\r\n\t\t\tsessionStorage.setItem(\"qzToken\",res.data.result.token)\r\n\t\t})\r\n\t},\r\n\tmethods:{\r\n\t\t// 点击返回按钮\r\n\t\tgoBack() {\r\n\t\t  if (this.from) {\r\n\t\t    this.$router.back();\r\n\t\t  } else {\r\n\t\t    this.$router.replace(\"/demands\");\r\n\t\t  }\r\n\t\t},\r\n\t\t// 打开需求行业选择器\r\n\t\tshowIndustryPopup() {\r\n\t\t  this.$refs[\"industryPopup\"].show();\r\n\t\t},\r\n\t\t// 选择需求行业\r\n\t\tselectIndustry(val) {\r\n\t\t  this.selectedIndustryObj = val;\r\n\t\t},\r\n\t\t\r\n\t\tclearIndustry() {\r\n\t\t  this.selectedIndustryObj = [];\r\n\t\t},\r\n\t\t//模糊查询\r\n\t\tchangs:debounce(function(e){\r\n\t\t\tthis.ChangVal()\r\n\t\t}),\r\n\t\tChangVal(){\r\n\t\t\tif(this.tled.companyName != \"\"){\r\n\t\t\t\tconst url = 'http://api.qianzhan.com/OpenPlatformService/OrgCompanyQuery'\r\n\t\t\t\taxios.get(url,{\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\ttype:\"json\",\r\n\t\t\t\t\ttoken:sessionStorage.getItem(\"qzToken\"),\r\n\t\t\t\t\tcompanyName:this.tled.companyName,\r\n\t\t\t\t\tpage:1,\r\n\t\t\t\t\tpagesize:5,\r\n\t\t\t\t\tquerySet:1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.EnterpriseInfo = res.data.result\r\n\t\t\t\t\t// this.columns = res.data.result.map(item=>item.companyName)\r\n\t\t\t\t\tif(this.EnterpriseInfo.length>0){\r\n\t\t\t\t\t\tthis.showSettled = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tchVal(i){\r\n\t\t\tthis.tled.creditCode = this.EnterpriseInfo[i].creditCode\r\n\t\t\tthis.tled.companyName = this.EnterpriseInfo[i].companyName\r\n\t\t\tthis.tled.address = this.EnterpriseInfo[i].address\r\n\t\t\tthis.tled.business = this.EnterpriseInfo[i].bussinessDes\r\n\t\t\tthis.showSettled = false\r\n\t\t},\r\n\t\tasync uploadFile({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"file\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await uploadImage(data);\r\n\t\t    toast.clear();\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t\tasync uploadProduct({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"image\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await uploadImage(data);\r\n\t\t    toast.clear();\r\n\t\t    this.tled.productImg.push(res.url);\r\n\t\t\tconsole.log(this.tled.productImg)\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t\tasync uploadLogo({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"image\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await uploadImage(data);\r\n\t\t    toast.clear();\r\n\t\t    this.tled.logo = res.url;\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t\tsave(){\r\n\t\t\tcompanyCreate({\r\n\t\t\t\tlogo:this.tled.logo,\r\n\t\t\t\tcompany_name:this.tled.companyName,\r\n\t\t\t\tduty_paragrap:this.tled.creditCode,\r\n\t\t\t\t// industry_id:this.tled.industry_id,\r\n\t\t\t\tbusiness:this.tled.business.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\"),\r\n\t\t\t\taddress:this.tled.address.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\"),\r\n\t\t\t\tdetail:this.tled.brief.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\"),\r\n\t\t\t\timg:this.tled.productImg,\r\n\t\t\t}).then(res=>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t})\r\n\t\t}\r\n\t\t// onCancel(){\r\n\t\t// \tthis.visible = false\r\n\t\t// },\r\n\t\t// onConfirm(val,index){\r\n\t\t// \tconsole.log(val,index)\r\n\t\t// \tthis.tled.creditCode = this.EnterpriseInfo[index].creditCode\r\n\t\t// \tthis.tled.companyName = this.EnterpriseInfo[index].companyName\r\n\t\t// \tthis.visible = false\r\n\t\t// }\r\n\t},\r\n\tcomputed:{\r\n\t\tselectedIndustry() {\r\n\t\t  return this.selectedIndustryObj.length > 1\r\n\t\t    ? this.selectedIndustryObj.map(item => item.name).join(\"/\")\r\n\t\t    : \"\";\r\n\t\t}\r\n\t}\r\n}\t\n</script>\n\n<style lang=\"less\" scoped>\r\n.btnColor{\r\n\tbackground:linear-gradient(90deg,rgba(196,0,36,1),rgba(217,10,32,1));\r\n}\t\t\r\n.lf{\r\n\tmargin-left: 15px;\r\n}\t\r\n.bottm{\r\n\tmargin-bottom:20px;\r\n}\t\r\n.page{\r\n\tbackground-color: #F8F8F8 !important;\r\n}\t\r\n.companyName{\r\n\tposition: relative;\r\n}\t\r\n.list{\r\n\twidth: 90%;\r\n\tmargin:0 auto;\r\n\tposition: absolute;\r\n\ttop: 140px;\r\n\tleft:50%;\r\n\tz-index: 999;\r\n\tbackground-color: #F8F8F8;\r\n\ttransform: translateX(-50%);\r\n\tborder:1px solid #666;\r\n\t.items{\r\n\t\tborder-bottom: 1px solid #333;\r\n\t\tp{\r\n\t\t\tmargin:5px;\r\n\t\t}\r\n\t}\r\n\t.items:last-child{\r\n\t\tborder-bottom:none;\r\n\t}\r\n}\t\r\n.uploaded-img{\r\n\twidth: 80px;\r\n\theight: 60px;\r\n\tobject-fit: cover;\r\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settled.vue?vue&type=template&id=b1e13aa0&scoped=true&\"\nimport script from \"./Settled.vue?vue&type=script&lang=js&\"\nexport * from \"./Settled.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settled.vue?vue&type=style&index=0&id=b1e13aa0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1e13aa0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}