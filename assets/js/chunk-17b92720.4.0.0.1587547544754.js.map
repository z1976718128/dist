{"version":3,"sources":["webpack:///./src/views/demand/solve.vue?d64c","webpack:///./node_modules/_vant@2.5.4@vant/es/radio/index.js","webpack:///./node_modules/_vant@2.5.4@vant/es/radio-group/index.js","webpack:///src/views/demand/solve.vue","webpack:///./src/views/demand/solve.vue?8a14","webpack:///./src/views/demand/solve.vue","webpack:///./src/views/demand/solve.vue?4670"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","model","value","callback","$$v","selectedUserId","expression","_l","item","key","user_id","handleUserClick","$event","staticStyle","slot","handleSubmit","_v","staticRenderFns","_createNamespace","create","createComponent","bem","mixins","role","parent","computed","currentValue","get","set","val","$emit","checked","name","methods","toggle","props","disabled","Boolean","direction","String","checkedColor","iconSize","Number","watch","_value","h","arguments","slots","components","data","selectedMethodId","active","publishedList","from","$router","back","replace","id","handleMethodClick","component"],"mappings":"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","file":"assets/js/chunk-17b92720.4.0.0.1587547544754.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"solve-demand-page\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"border\":\"\",\"title\":\"解决需求\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}}),_c('van-radio-group',{model:{value:(_vm.selectedUserId),callback:function ($$v) {_vm.selectedUserId=$$v},expression:\"selectedUserId\"}},[_c('van-cell-group',{staticClass:\"cell-group\"},[_c('van-cell',{attrs:{\"title\":\"请选择需求解决者/解决途径：\"}}),_c('van-cell',[_c('van-row',{staticClass:\"list\"},_vm._l((_vm.publishedList),function(item){return _c('van-col',{key:item.user_id,staticClass:\"item\",attrs:{\"span\":\"4\"}},[_c('simple-avatar',{attrs:{\"item\":item,\"isSelected\":item.user_id === _vm.selectedUserId},on:{\"click\":function () { return _vm.handleUserClick(item.user_id); }}})],1)}),1)],1),_c('van-cell',{staticClass:\"other-item\",attrs:{\"clickable\":\"\",\"title\":\"通过其他途径解决\"},on:{\"click\":function($event){return _vm.handleUserClick('0')}}},[_c('van-radio',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"icon\",\"name\":'0'},slot:\"icon\"})],1)],1)],1),_c('van-row',{staticClass:\"bottom-bar cell-group\"},[_c('van-button',{attrs:{\"block\":\"\",\"square\":\"\",\"type\":\"danger\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"\\n      确定\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { createNamespace } from '../utils';\nimport { CheckboxMixin } from '../mixins/checkbox';\n\nvar _createNamespace = createNamespace('radio'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [CheckboxMixin({\n    bem: bem,\n    role: 'radio',\n    parent: 'vanRadio'\n  })],\n  computed: {\n    currentValue: {\n      get: function get() {\n        return this.parent ? this.parent.value : this.value;\n      },\n      set: function set(val) {\n        (this.parent || this).$emit('input', val);\n      }\n    },\n    checked: function checked() {\n      return this.currentValue === this.name;\n    }\n  },\n  methods: {\n    toggle: function toggle() {\n      this.currentValue = this.name;\n    }\n  }\n});","import { createNamespace } from '../utils';\nimport { FieldMixin } from '../mixins/field';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('radio-group'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanRadio'), FieldMixin],\n  props: {\n    value: null,\n    disabled: Boolean,\n    direction: String,\n    checkedColor: String,\n    iconSize: [Number, String]\n  },\n  watch: {\n    value: function value(_value) {\n      this.$emit('change', _value);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem([this.direction]),\n      \"attrs\": {\n        \"role\": \"radiogroup\"\n      }\n    }, [this.slots()]);\n  }\n});","<template>\r\n  <div class=\"solve-demand-page\">\r\n    <van-nav-bar\r\n      fixed\r\n      border\r\n      title=\"解决需求\"\r\n      left-arrow\r\n      @click-left=\"goBack\"\r\n    />\r\n    <van-radio-group v-model=\"selectedUserId\">\r\n      <van-cell-group class=\"cell-group\">\r\n        <van-cell title=\"请选择需求解决者/解决途径：\" />\r\n        <!-- <van-cell\r\n          clickable\r\n          class=\"user-item\"\r\n          v-for=\"item in publishedList\"\r\n          :key=\"item.id\"\r\n          @click=\"handleUserClick(item.user_id)\"\r\n        >\r\n          <div slot=\"icon\" class=\"left\">\r\n            <van-radio :name=\"item.user_id\" />\r\n            <img class=\"avatar\" :src=\"item.head_img\" alt=\"\" slot=\"icon\" />\r\n          </div>\r\n          <div class=\"title\" slot=\"title\">\r\n            <span>{{ item.name }}</span>\r\n            <span class=\"position\">{{ item.position }}</span>\r\n            <span class=\"position\">{{ item.company }}</span>\r\n          </div>\r\n          <div class=\"label\" slot=\"label\">{{ item.reason }}</div>\r\n        </van-cell> -->\r\n        <van-cell>\r\n          <van-row class=\"list\">\r\n            <van-col\r\n              span=\"4\"\r\n              v-for=\"item in publishedList\"\r\n              :key=\"item.user_id\"\r\n              class=\"item\"\r\n            >\r\n              <simple-avatar\r\n                :item=\"item\"\r\n                :isSelected=\"item.user_id === selectedUserId\"\r\n                @click=\"() => handleUserClick(item.user_id)\"\r\n              />\r\n            </van-col>\r\n          </van-row>\r\n        </van-cell>\r\n        <van-cell\r\n          clickable\r\n          class=\"other-item\"\r\n          title=\"通过其他途径解决\"\r\n          @click=\"handleUserClick('0')\"\r\n        >\r\n          <van-radio slot=\"icon\" style=\"margin-right: 10px\" :name=\"'0'\" />\r\n        </van-cell>\r\n      </van-cell-group>\r\n    </van-radio-group>\r\n\r\n    <!-- <van-tabs sticky v-model=\"active\">\r\n      <van-tab title=\"需求申请人\">\r\n        <van-radio-group v-model=\"selectedUserId\">\r\n          <van-cell-group class=\"cell-group\">\r\n            <van-cell\r\n              clickable\r\n              class=\"user-item\"\r\n              v-for=\"item in publishedList\"\r\n              :key=\"item.id\"\r\n              @click=\"handleUserClick(item.user_id)\"\r\n            >\r\n              <div slot=\"icon\" class=\"left\">\r\n                <van-radio :name=\"item.user_id\" />\r\n                <img class=\"avatar\" :src=\"item.head_img\" alt=\"\" slot=\"icon\" />\r\n              </div>\r\n              <div class=\"title\" slot=\"title\">\r\n                <span>{{ item.name }}</span>\r\n                <span class=\"position\">{{ item.position }}</span>\r\n                <span class=\"position\">{{ item.company }}</span>\r\n              </div>\r\n              <div class=\"label\" slot=\"label\">{{ item.reason }}</div>\r\n            </van-cell>\r\n          </van-cell-group>\r\n        </van-radio-group>\r\n      </van-tab>\r\n      <van-tab title=\"其他解决者/渠道\">\r\n        <van-radio-group v-model=\"selectedMethodId\">\r\n          <van-cell-group class=\"cell-group\">\r\n            <van-cell\r\n              v-for=\"item in channels\"\r\n              clickable\r\n              :key=\"item.id\"\r\n              :title=\"item.name\"\r\n              @click=\"handleMethodClick(item.id)\"\r\n            >\r\n              <van-radio\r\n                slot=\"icon\"\r\n                style=\"margin-right: 10px\"\r\n                :name=\"item.id\"\r\n              />\r\n            </van-cell>\r\n          </van-cell-group>\r\n        </van-radio-group>\r\n      </van-tab>\r\n    </van-tabs> -->\r\n\r\n    <van-row class=\"bottom-bar cell-group\">\r\n      <van-button block square type=\"danger\" @click=\"handleSubmit\">\r\n        确定\r\n      </van-button>\r\n    </van-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,\r\n  NavBar,\r\n  RadioGroup,\r\n  Cell,\r\n  CellGroup,\r\n  Radio,\r\n  Tabs,\r\n  Tab\r\n} from \"vant\";\r\nimport {\r\n  getApplyedListForDemand,\r\n  update_demand_solve_status,\r\n  update_demand_other_solve,\r\n  updateDemandRecord\r\n} from \"../../api/demand\";\r\nimport SimpleAvatar from \"../../components/simple-avatar\";\r\n\r\nexport default {\r\n  name: \"about\",\r\n  components: {\r\n    [Tabs.name]: Tabs,\r\n    [Tab.name]: Tab,\r\n    [Row.name]: Row,\r\n    [Col.name]: Col,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Cell.name]: Cell,\r\n    [CellGroup.name]: CellGroup,\r\n    [Radio.name]: Radio,\r\n    [NavBar.name]: NavBar,\r\n    [Button.name]: Button,\r\n    SimpleAvatar\r\n  },\r\n  data() {\r\n    return {\r\n      selectedUserId: \"\",\r\n      selectedMethodId: \"\",\r\n      active: 0,\r\n      publishedList: []\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"from\"]),\r\n    ...mapGetters([\"userInfo\", \"channels\"])\r\n  },\r\n  async mounted() {\r\n    const publishedList = await getApplyedListForDemand({\r\n      demand_id: this.$route.params.id\r\n    });\r\n    this.publishedList = publishedList.filter(\r\n      item => item.user_id !== this.userInfo.id\r\n    );\r\n  },\r\n  methods: {\r\n    // 点击返回按钮\r\n    goBack() {\r\n      if (this.from) {\r\n        this.$router.back();\r\n      } else {\r\n        this.$router.replace(\"/demands\");\r\n      }\r\n    },\r\n\r\n    handleUserClick(id) {\r\n      this.selectedUserId = id;\r\n      this.selectedMethodId = \"\";\r\n    },\r\n\r\n    handleMethodClick(id) {\r\n      this.selectedUserId = \"\";\r\n      this.selectedMethodId = id;\r\n    },\r\n\r\n    async handleSubmit() {\r\n      if (this.selectedUserId === \"0\") {\r\n        await update_demand_other_solve({\r\n          channel_id: 4,\r\n          demand_id: this.$route.params.id\r\n        });\r\n        this.$toast(\"需求已解决\");\r\n        this.goBack();\r\n      } else if (this.selectedUserId) {\r\n        await updateDemandRecord({\r\n          user_id: this.userInfo.id,\r\n          status: 1,\r\n          id: this.selectedUserId\r\n        });\r\n\r\n        await update_demand_solve_status({\r\n          demand_id: this.$route.params.id,\r\n          solve_user_id: this.selectedUserId\r\n        });\r\n        this.$toast(\"需求已解决\");\r\n        this.goBack();\r\n      } else {\r\n        this.$toast(\"请选择解决方式\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// .cell-group {\r\n//   margin-top: 12px;\r\n// }\r\n\r\n.other-item {\r\n  height: 60px;\r\n  align-items: center;\r\n}\r\n\r\n.user-item {\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .avatar {\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n\r\n  .avatar {\r\n    width: 42px;\r\n    height: 42px;\r\n    border-radius: 50%;\r\n    border: 1px solid #ccc;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .position {\r\n    font-size: 12px;\r\n    color: #999;\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .right {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n\r\n.solve-demand-page {\r\n  padding-bottom: 45px;\r\n}\r\n\r\n.bottom-bar {\r\n  position: absolute;\r\n  display: flex;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 750px) {\r\n  .cell-group {\r\n    margin-top: 12px;\r\n  }\r\n\r\n  .user-item {\r\n    .left {\r\n      .avatar {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n\r\n    .avatar {\r\n      width: 42px;\r\n      height: 42px;\r\n      border-radius: 50%;\r\n      border: 1px solid #ccc;\r\n      margin-right: 10px;\r\n    }\r\n\r\n    .position {\r\n      font-size: 12px;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n\r\n  .solve-demand-page {\r\n    padding-bottom: 45px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./solve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./solve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./solve.vue?vue&type=template&id=ce1895e6&scoped=true&\"\nimport script from \"./solve.vue?vue&type=script&lang=js&\"\nexport * from \"./solve.vue?vue&type=script&lang=js&\"\nimport style0 from \"./solve.vue?vue&type=style&index=0&id=ce1895e6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce1895e6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./solve.vue?vue&type=style&index=0&id=ce1895e6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./solve.vue?vue&type=style&index=0&id=ce1895e6&lang=less&scoped=true&\""],"sourceRoot":""}