{"version":3,"sources":["webpack:///./src/views/Settled.vue?33aa","webpack:///./src/views/Settled.vue?127a","webpack:///./src/components/uploadImg.vue?0317","webpack:///src/components/uploadImg.vue","webpack:///./src/components/uploadImg.vue?abf4","webpack:///./src/components/uploadImg.vue","webpack:///src/views/Settled.vue","webpack:///./src/views/Settled.vue?bdca","webpack:///./src/views/Settled.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","$event","showSettled","attrs","goBack","staticClass","scopedSlots","_u","key","fn","tled","logo","_e","uploadLogo","_v","_s","proxy","ChangVal","model","value","callback","$$v","$set","expression","showIndustryPopup","selectedIndustry","uploadProduct","fileList","fileNmae","uploadFile","directives","name","rawName","_l","item","index","chVal","companyName","creditCode","save","ref","selectIndustry","clearIndustry","staticRenderFns","component","debounce","func"],"mappings":"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,WACA,SACA,cACA,QACA,YACA,SACA,cAIA,QA5CA,WA6CA,6DACA,WACA,QACA,YACA,0BACA,6BACA,kBACA,0DAGA,SAEA,OAFA,WAGA,UACA,oBAEA,kCAIA,kBAVA,WAWA,oCAGA,eAdA,SAcA,GACA,2BACA,iFACA,yCAGA,cApBA,WAqBA,6BAGA,sBACA,mBAEA,SA3BA,WA2BA,WACA,8BACA,oEACA,WACA,QACA,YACA,wCACA,kCACA,OACA,WACA,cAEA,kBACA,eACA,+BAEA,0BACA,iBAEA,8BAIA,qBAIA,MAtDA,SAsDA,GACA,2DACA,wEACA,yDACA,iDACA,uDACA,qBAEA,WA9DA,2KA8DA,EA9DA,EA8DA,KACA,eACA,mBACA,uBACA,WACA,eACA,sBACA,gBArEA,kBAwEA,kBAxEA,OAwEA,EAxEA,OA0EA,mBACA,sBACA,qBACA,UA7EA,qDA+EA,UACA,+BAhFA,mHAmFA,cAnFA,2KAmFA,EAnFA,EAmFA,KACA,eACA,kBACA,uBACA,WACA,eACA,sBACA,gBA1FA,kBA6FA,kBA7FA,OA6FA,EA7FA,OA8FA,UACA,iCA/FA,qDAiGA,UACA,+BAlGA,mHAqGA,WArGA,2KAqGA,EArGA,EAqGA,KACA,eACA,kBACA,uBACA,WACA,eACA,sBACA,gBA5GA,kBA+GA,kBA/GA,OA+GA,EA/GA,OAgHA,qBACA,UAjHA,qDAmHA,UACA,+BApHA,mHAuHA,KAvHA,WAuHA,WACA,gBACA,oBACA,mCACA,wCACA,oGACA,kGACA,+FACA,sFACA,4BACA,sBACA,kFACA,qBACA,uBAEA,kBACA,eACA,iBACA,aACA,cACA,yBACA,iBACA,mCAGA,mBAEA,eACA,iBACA,aACA,cACA,8BAcA,UACA,iBADA,WAEA,yCACA,qEACA,MChXiV,ICQ7U,G,UAAY,eACd,EACArD,EACAkD,GACA,EACA,KACA,WACA,OAIa,e","file":"assets/js/chunk-2e10c6f7.4.0.0.1587992654665.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=style&index=0&id=caaa2358&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=style&index=0&id=caaa2358&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"click\":function($event){_vm.showSettled = false}}},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"border\":\"\",\"title\":\"公司入驻\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}}),_c('van-cell-group',{staticClass:\"bottm\"},[_c('van-field',{attrs:{\"required\":\"\",\"label\":\"logo\",\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [(_vm.tled.logo)?_c('img',{staticClass:\"uploaded-img\",attrs:{\"src\":_vm.tled.logo,\"alt\":\"\"}}):_vm._e(),_c('van-uploader',{attrs:{\"after-read\":_vm.uploadLogo,\"accept\":\"image/*\"}},[_c('van-button',{staticClass:\"btnColor\",attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(_vm._s(_vm.tled.logo?'修改图片':'上传图片'))])],1)]},proxy:true}])}),_c('van-field',{staticClass:\"companyName\",attrs:{\"required\":\"\",\"clearable\":\"\",\"input-align\":\"right\",\"label\":\"公司全称\",\"placeholder\":\"请输入公司全称\"},on:{\"input\":_vm.ChangVal},model:{value:(_vm.tled.companyName),callback:function ($$v) {_vm.$set(_vm.tled, \"companyName\", $$v)},expression:\"tled.companyName\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"readonly\":\"\",\"input-align\":\"right\",\"label\":\"公司税号\",\"placeholder\":\"请输入公司税号\"},model:{value:(_vm.tled.duty_paragraph),callback:function ($$v) {_vm.$set(_vm.tled, \"duty_paragraph\", $$v)},expression:\"tled.duty_paragraph\"}}),_c('van-field',{attrs:{\"required\":\"\",\"is-link\":\"\",\"readonly\":\"\",\"label\":\"公司行业\",\"placeholder\":\"请输入公司行业\",\"input-align\":\"right\",\"error-message-align\":\"right\"},on:{\"click\":_vm.showIndustryPopup},model:{value:(_vm.selectedIndustry),callback:function ($$v) {_vm.selectedIndustry=$$v},expression:\"selectedIndustry\"}}),_c('van-cell',{attrs:{\"required\":\"\",\"title\":\"主营业务/公司产品介绍\",\"border\":false}}),_c('van-field',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"公司主营业务\"},model:{value:(_vm.tled.business),callback:function ($$v) {_vm.$set(_vm.tled, \"business\", $$v)},expression:\"tled.business\"}}),_c('van-cell',{attrs:{\"required\":\"\",\"title\":\"公司地址\",\"border\":false}}),_c('van-field',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"公司地址\"},model:{value:(_vm.tled.address),callback:function ($$v) {_vm.$set(_vm.tled, \"address\", $$v)},expression:\"tled.address\"}}),_c('van-cell',{attrs:{\"required\":\"\",\"title\":\"公司简介\",\"border\":false}}),_c('van-field',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"公司简介\"},model:{value:(_vm.tled.brief),callback:function ($$v) {_vm.$set(_vm.tled, \"brief\", $$v)},expression:\"tled.brief\"}}),_c('van-cell',{attrs:{\"title\":\"公司图片或产品图片\",\"border\":false}}),_c('van-uploader',{staticClass:\"lf\",attrs:{\"max-count\":4,\"after-read\":_vm.uploadProduct,\"accept\":\"image/*\"},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"input-align\":\"right\",\"label\":\"联系人\",\"placeholder\":\"请输入联系人\"},model:{value:(_vm.tled.username),callback:function ($$v) {_vm.$set(_vm.tled, \"username\", $$v)},expression:\"tled.username\"}}),_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"input-align\":\"right\",\"label\":\"联系电话\",\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.tled.phone),callback:function ($$v) {_vm.$set(_vm.tled, \"phone\", $$v)},expression:\"tled.phone\"}}),_c('van-field',{attrs:{\"required\":\"\",\"label\":\"入驻协议\",\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [(_vm.fileNmae)?_c('span',{staticClass:\"flileClass van-ellipsis\"},[_vm._v(_vm._s(_vm.fileNmae))]):_vm._e(),_c('van-uploader',{attrs:{\"after-read\":_vm.uploadFile,\"accept\":\".doc,.docx,pdf\"}},[_c('van-button',{staticClass:\"btnColor\",attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(_vm._s(_vm.fileNmae?\"修改文件\":\"上传入驻协议\"))])],1)]},proxy:true}])})],1),_c('van-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSettled),expression:\"showSettled\"}],staticClass:\"list\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"24\"}},_vm._l((_vm.EnterpriseInfo),function(item,index){return _c('div',{key:index,staticClass:\"items\",on:{\"click\":function($event){return _vm.chVal(index)}}},[_c('p',[_vm._v(\"名称:\"+_vm._s(item.companyName))]),_c('p',[_vm._v(\"税号:\"+_vm._s(item.creditCode))])])}),0)],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('van-button',{attrs:{\"to\":\"/suppliers\",\"type\":\"default\",\"size\":\"large\",\"block\":\"\"}},[_vm._v(\"取消\")])],1),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('van-button',{staticClass:\"btnColor\",attrs:{\"type\":\"danger\",\"size\":\"large\",\"block\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1),_c('industry-popup',{ref:\"industryPopup\",attrs:{\"value\":_vm.selectedIndustry},on:{\"confirm\":_vm.selectIndustry,\"clear\":_vm.clearIndustry}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-uploader',{attrs:{\"multiple\":\"\",\"max-count\":2,\"after-read\":_vm.uploadProduct,\"accept\":\"image/*\"},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<!-- <van-uploader v-model=\"fileList\" :max-size=\"4\" multiple :after-read=\"uploadProduct\" accept=\"image/*\" /> -->\r\n\t<van-uploader v-model=\"fileList\" multiple :max-count=\"2\" :after-read=\"uploadProduct\" accept=\"image/*\"/>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t  Uploader,\r\n\t} from \"vant\";\t\r\nimport { uploadImage } from \"@/api/v3.js\";\t\r\nexport default{\r\n\tcomponents:{\r\n\t\t[Uploader.name]: Uploader,\r\n\t},\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tfileList:[],\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tasync uploadProduct({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"image\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await uploadImage(data);\r\n\t\t    toast.clear();\r\n\t\t    let imgArr = res.url;\r\n\t\t\tconsole.log(imgArr)\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t}\r\n}\t\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadImg.vue?vue&type=template&id=402884cb&\"\nimport script from \"./uploadImg.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div @click=\"showSettled = false\">\r\n\t\t<van-nav-bar\r\n\t\t  fixed\r\n\t\t  border\r\n\t\t  title=\"公司入驻\"\r\n\t\t  left-arrow\r\n\t\t  @click-left=\"goBack\"\r\n\t\t/>\r\n\t\t<van-cell-group class=\"bottm\">\r\n\t\t\t<van-field\r\n\t\t\t  required\r\n\t\t\t  label=\"logo\"\r\n\t\t\t  readonly\r\n\t\t\t>\r\n\t\t\t  <template #button>\r\n\t\t\t\t  <img\r\n\t\t\t\t  v-if=\"tled.logo\"\r\n\t\t\t\t    class=\"uploaded-img\"\r\n\t\t\t\t    :src=\"tled.logo\"\r\n\t\t\t\t    alt=\"\"\r\n\t\t\t\t  />\r\n\t\t\t\t  <van-uploader :after-read=\"uploadLogo\" accept=\"image/*\">\r\n\t\t\t\t\t<van-button  size=\"small\" class=\"btnColor\" type=\"danger\" >{{tled.logo?'修改图片':'上传图片'}}</van-button>\r\n\t\t\t\t </van-uploader>\r\n\t\t\t  </template>\r\n\t\t\t</van-field>\r\n\t\t  <van-field class=\"companyName\" required clearable  input-align=\"right\" @input=\"ChangVal\" v-model=\"tled.companyName\"  label=\"公司全称\" placeholder=\"请输入公司全称\" />\r\n\t\t  <van-field  required clearable readonly input-align=\"right\" v-model=\"tled.duty_paragraph\"  label=\"公司税号\" placeholder=\"请输入公司税号\" />\r\n\t\t  <!-- tled.industry -->\r\n\t\t  <van-field\r\n\t\t    required\r\n\t\t    v-model=\"selectedIndustry\"\r\n\t\t    is-link\r\n\t\t    readonly\r\n\t\t    label=\"公司行业\"\r\n\t\t    placeholder=\"请输入公司行业\"\r\n\t\t    input-align=\"right\"\r\n\t\t    error-message-align=\"right\"\r\n\t\t    @click=\"showIndustryPopup\"\r\n\t\t  />\r\n\t\t  <van-cell required title=\"主营业务/公司产品介绍\" :border=\"false\" />\r\n\t\t  <van-field\r\n\t\t    class=\"textarea\"\r\n\t\t    type=\"textarea\"\r\n\t\t    placeholder=\"公司主营业务\"\r\n\t\t\tv-model=\"tled.business\"\r\n\t\t  />\r\n\t\t  <van-cell required title=\"公司地址\" :border=\"false\" />\r\n\t\t  <van-field\r\n\t\t    class=\"textarea\"\r\n\t\t    type=\"textarea\"\r\n\t\t    placeholder=\"公司地址\"\r\n\t\t\tv-model=\"tled.address\"\r\n\t\t  />\r\n\t\t  <van-cell required title=\"公司简介\" :border=\"false\" />\r\n\t\t  <van-field\r\n\t\t    class=\"textarea\"\r\n\t\t    type=\"textarea\"\r\n\t\t    placeholder=\"公司简介\"\r\n\t\t\tv-model=\"tled.brief\"\r\n\t\t  />\r\n\t\t  <!-- <uploadImg /> -->\r\n\t\t  <van-cell  title=\"公司图片或产品图片\" :border=\"false\" />\r\n\t\t  <van-uploader class=\"lf\" v-model=\"fileList\"  :max-count=\"4\" :after-read=\"uploadProduct\" accept=\"image/*\"/>\r\n\t\t  <van-field v-model=\"tled.username\" required clearable input-align=\"right\" label=\"联系人\" placeholder=\"请输入联系人\" />\r\n\t\t  <van-field v-model=\"tled.phone\" required clearable  input-align=\"right\" label=\"联系电话\" placeholder=\"请输入联系电话\" />\r\n\t\t  <van-field\r\n\t\t    required\r\n\t\t    label=\"入驻协议\"\r\n\t\t    readonly\r\n\t\t  >\r\n\t\t    <template #button>\r\n\t\t\t\t<span v-if=\"fileNmae\" class=\"flileClass van-ellipsis\">{{fileNmae}}</span>\r\n\t\t  \t  <van-uploader :after-read=\"uploadFile\" accept=\".doc,.docx,pdf\">\r\n\t\t  \t\t<van-button  class=\"btnColor\" size=\"small\" type=\"danger\" >{{fileNmae?\"修改文件\":\"上传入驻协议\"}}</van-button>\r\n\t\t  \t </van-uploader>\r\n\t\t    </template>\r\n\t\t  </van-field>\r\n\t\t</van-cell-group>\r\n\t\t<!-- <van-popup v-model=\"visible\" position=\"bottom\" :overlay=\"true\">\r\n\t\t  <van-picker \r\n\t\t  :columns=\"columns\"\r\n\t\t   @cancel=\"onCancel\"\r\n\t\t   cancel-button-text=\"清除选择\"\r\n\t\t   confirm-button-text=\"确认\"\r\n\t\t   @confirm=\"onConfirm\"\r\n\t\t   show-toolbar\r\n\t\t/>\r\n\t\t</van-popup> -->\r\n\t\t<van-row class=\"list\" type=\"flex\" justify=\"center\" v-show=\"showSettled\">\r\n\t\t  <van-col span=\"24\">\r\n\t\t\t  <div class=\"items\" v-for=\"(item,index) in EnterpriseInfo\" :key=\"index\" @click=\"chVal(index)\">\r\n\t\t\t\t  <p>名称:{{item.companyName}}</p>\r\n\t\t\t\t  <p>税号:{{item.creditCode}}</p>\r\n\t\t\t  </div>\r\n\t\t  </van-col>\r\n\t\t</van-row>\r\n\t\t<van-row type=\"flex\" justify=\"space-between\" >\r\n\t\t\t<van-col span=\"12\">\r\n\t\t\t\t<van-button to=\"/suppliers\" type=\"default\" size=\"large\"  block >取消</van-button>\r\n\t\t\t</van-col>\r\n\t\t\t<van-col span=\"12\">\r\n\t\t\t\t<van-button type=\"danger\" class=\"btnColor\" size=\"large\"  block @click=\"save\">保存</van-button>\r\n\t\t\t</van-col>\r\n\t\t</van-row>\r\n\t\t\r\n\t\t<industry-popup\r\n\t\t  ref=\"industryPopup\"\r\n\t\t  :value=\"selectedIndustry\"\r\n\t\t  @confirm=\"selectIndustry\"\r\n\t\t  @clear=\"clearIndustry\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nfunction debounce(func, wait=1000){\r\n let timeout;\r\n return function(event){\r\n  clearTimeout(timeout)\r\n  timeout = setTimeout(()=>{\r\n   func.call(this, event)\r\n  },wait)\r\n }\r\n}\r\nimport axios  from \"axios\"\r\nimport { uploadImage } from \"@/api/v3.js\";\r\nimport { companyCreate,companyUploadImage,companyUploadAgreement} from \"@/api/v4.js\";\r\nimport IndustryPopup from \"../components/industry-popup\";\r\nimport uploadImg from \"@/components/uploadImg\"\r\nimport {\r\n  NavBar,\r\n  Icon,\r\n  Cell,\r\n  CellGroup,\r\n  Field,\r\n  Uploader,\r\n  Row,\r\n  Col,\r\n  Checkbox,\r\n  Tag,\r\n  Button,\r\n  Picker, Popup\r\n} from \"vant\";\t\r\nexport default{\r\n\tcomponents: {\r\n\t  [NavBar.name]: NavBar,\r\n\t  [Button.name]: Button,\r\n\t  [CellGroup.name]: CellGroup,\r\n\t  [Cell.name]: Cell,\r\n\t  [Field.name]: Field,\r\n\t  [Uploader.name]: Uploader,\r\n\t  [Row.name]: Row,\r\n\t  [Col.name]: Col,\r\n\t  [Icon.name]: Icon,\r\n\t  [Tag.name]: Tag,\r\n\t  [Checkbox.name]: Checkbox,\r\n\t  [Picker.name]: Picker,\r\n\t  [Popup.name]: Popup,\r\n\t  uploadImg,\r\n\t  IndustryPopup\r\n\t},\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tshowSettled:false,\r\n\t\t\tvalue:'',\r\n\t\t\tvisible:false,\r\n\t\t\tcolumns: [],\r\n\t\t\tEnterpriseInfo:[],\r\n\t\t\tfileList:[],\r\n\t\t\tselectedIndustryObj: [],\r\n\t\t\tindustry_id:'',\r\n\t\t\tis_join:0,\r\n\t\t\tfileNmae:\"\",\r\n\t\t\ttled:{\r\n\t\t\t\tcompanyName:\"\",\r\n\t\t\t\tduty_paragraph:\"\",\r\n\t\t\t\tbusiness:\"\",\r\n\t\t\t\taddress:\"\",\r\n\t\t\t\tbrief:\"\",\r\n\t\t\t\tproductImg:[],\r\n\t\t\t\tlogo:\"\",\r\n\t\t\t\tusername:\"\",\r\n\t\t\t\tphone:\"\",\r\n\t\t\t\tfiles:null\r\n\t\t\t},\r\n\t\t}\r\n\t},\t\r\n\tcreated() {\r\n\t\tconst url = 'http://api.qianzhan.com/OpenPlatformService/GetToken'\r\n\t\taxios.get(url,{\r\n\t\t\tparams:{\r\n\t\t\ttype:\"json\",\r\n\t\t\tappkey:\"0a0e7a4ea774bab7\",\r\n\t\t\tseckey:\"942959a69431b1ad\"}\r\n\t\t}).then(res=>{\r\n\t\t\tsessionStorage.setItem(\"qzToken\",res.data.result.token)\r\n\t\t})\r\n\t},\r\n\tmethods:{\r\n\t\t// 点击返回按钮\r\n\t\tgoBack() {\r\n\t\t  if (this.from) {\r\n\t\t    this.$router.back();\r\n\t\t  } else {\r\n\t\t    this.$router.replace(\"/demands\");\r\n\t\t  }\r\n\t\t},\r\n\t\t// 打开需求行业选择器\r\n\t\tshowIndustryPopup() {\r\n\t\t  this.$refs[\"industryPopup\"].show();\r\n\t\t},\r\n\t\t// 选择需求行业\r\n\t\tselectIndustry(val) {\r\n\t\t  this.selectedIndustryObj = val;\r\n\t\t  this.industry_id = [this.selectedIndustryObj[0].id,this.selectedIndustryObj[1].id]\r\n\t\t  console.log(this.industry_id.join(\",\"))\r\n\t\t},\r\n\t\t\r\n\t\tclearIndustry() {\r\n\t\t  this.selectedIndustryObj = [];\r\n\t\t},\r\n\t\t//模糊查询\r\n\t\tchangs:debounce(function(e){\r\n\t\t\tthis.ChangVal()\r\n\t\t}),\r\n\t\tChangVal(){\r\n\t\t\tif(this.tled.companyName != \"\"){\r\n\t\t\t\tconst url = 'http://api.qianzhan.com/OpenPlatformService/OrgCompanyQuery'\r\n\t\t\t\taxios.get(url,{\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\ttype:\"json\",\r\n\t\t\t\t\ttoken:sessionStorage.getItem(\"qzToken\"),\r\n\t\t\t\t\tcompanyName:this.tled.companyName,\r\n\t\t\t\t\tpage:1,\r\n\t\t\t\t\tpagesize:5,\r\n\t\t\t\t\tquerySet:1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.EnterpriseInfo = res.data.result\r\n\t\t\t\t\t// this.columns = res.data.result.map(item=>item.companyName)\r\n\t\t\t\t\tif(this.EnterpriseInfo.length>0){\r\n\t\t\t\t\t\tthis.showSettled = true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$toast.fail(\"暂无数据\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.showSettled = false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tchVal(i){\r\n\t\t\tthis.tled.duty_paragraph = this.EnterpriseInfo[i].creditCode\r\n\t\t\tconsole.log(this.tled.duty_paragraph,this.EnterpriseInfo[i].creditCode)\r\n\t\t\tthis.tled.companyName = this.EnterpriseInfo[i].companyName\r\n\t\t\tthis.tled.address = this.EnterpriseInfo[i].address\r\n\t\t\tthis.tled.business = this.EnterpriseInfo[i].bussinessDes\r\n\t\t\tthis.showSettled = false\r\n\t\t},\r\n\t\tasync uploadFile({file}) {\r\n\t\t  let data = new FormData();\r\n\t\t  data.append(\"file\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await companyUploadAgreement(data);\r\n\t\t\t// this.tled.file = file\r\n\t\t\tconsole.log(res.url)\r\n\t\t\tthis.tled.files = res.url\r\n\t\t\tthis.fileNmae = file.name\r\n\t\t    toast.clear();\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t\tasync uploadProduct({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"img\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await companyUploadImage(data);\r\n\t\t    toast.clear();\r\n\t\t    this.tled.productImg.push(res.url);\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t\tasync uploadLogo({ file }) {\r\n\t\t  const data = new FormData();\r\n\t\t  data.append(\"img\", file);\r\n\t\t  const toast = this.$toast.loading({\r\n\t\t    duration: 0,\r\n\t\t    forbidClick: true,\r\n\t\t    loadingType: \"spinner\",\r\n\t\t    message: \"上传中\"\r\n\t\t  });\r\n\t\t  try {\r\n\t\t    const res = await companyUploadImage(data);\r\n\t\t    this.tled.logo = res.url;\r\n\t\t    toast.clear();\r\n\t\t  } catch (error) {\r\n\t\t    toast.clear();\r\n\t\t    this.$toast.fail(error.message);\r\n\t\t  }\r\n\t\t},\r\n\t\tsave(){\r\n\t\t\tcompanyCreate({\r\n\t\t\t\tlogo:this.tled.logo,\r\n\t\t\t\tcompany_name:this.tled.companyName,\r\n\t\t\t\tduty_paragraph:this.tled.duty_paragraph,\r\n\t\t\t\tbusiness:this.tled.business.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\"),\r\n\t\t\t\taddress:this.tled.address.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\"),\r\n\t\t\t\tdetail:this.tled.brief.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\").replace(/\\s/g, \"&nbsp;\"),\r\n\t\t\t\timg:this.tled.productImg.length>1?this.tled.productImg.join(\",\"):this.tled.productImg,\r\n\t\t\t\tusername:this.tled.username,\r\n\t\t\t\tphone:this.tled.phone,\r\n\t\t\t\tindustry_id:this.industry_id.length>1?this.industry_id.join(\",\"):this.industry_id,\r\n\t\t\t\tis_join:this.is_join,\r\n\t\t\t\tfile:this.tled.files\r\n\t\t\t})\r\n\t\t\t.then(res=>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.$dialog.alert({\r\n\t\t\t\t  title: \"温馨提示\",\r\n\t\t\t\t  message: res.msg,\r\n\t\t\t\t  confirmButtonText: \"确认\"\r\n\t\t\t\t}).then(()=>{\r\n\t\t\t\t\tthis.$router.push(\"/suppliers\")\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch(ero=>{\r\n\t\t\t\t// const {err, msg, data } = ero;\r\n\t\t\t\tconsole.log(ero)\r\n\t\t\t\tthis.$dialog.alert({\r\n\t\t\t\t  title: \"温馨提示\",\r\n\t\t\t\t  message: ero.msg,\r\n\t\t\t\t  confirmButtonText: \"确认\"\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t\t// onCancel(){\r\n\t\t// \tthis.visible = false\r\n\t\t// },\r\n\t\t// onConfirm(val,index){\r\n\t\t// \tconsole.log(val,index)\r\n\t\t// \tthis.tled.duty_paragraph = this.EnterpriseInfo[index].duty_paragraph\r\n\t\t// \tthis.tled.companyName = this.EnterpriseInfo[index].companyName\r\n\t\t// \tthis.visible = false\r\n\t\t// }\r\n\t},\r\n\tcomputed:{\r\n\t\tselectedIndustry() {\r\n\t\t  return this.selectedIndustryObj.length > 1\r\n\t\t    ? this.selectedIndustryObj.map(item => item.name).join(\"/\")\r\n\t\t    : \"\";\r\n\t\t}\r\n\t}\r\n}\t\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.btnColor{\r\n\tbackground:linear-gradient(90deg,rgba(196,0,36,1),rgba(217,10,32,1));\r\n}\t\t\r\n.lf{\r\n\tmargin-left: 15px;\r\n}\t\r\n.bottm{\r\n\tmargin-bottom:20px;\r\n}\t\r\n.page{\r\n\tbackground-color: #F8F8F8 !important;\r\n}\t\r\n.companyName{\r\n\tposition: relative;\r\n}\t\r\n.list{\r\n\twidth: 90%;\r\n\tmargin:0 auto;\r\n\tposition: absolute;\r\n\ttop: 170px;\r\n\tleft:50%;\r\n\tz-index: 999;\r\n\tbackground-color: #F8F8F8;\r\n\ttransform: translateX(-50%);\r\n\tborder:1px solid #666;\r\n\t.items{\r\n\t\tborder-bottom: 1px solid #333;\r\n\t\tp{\r\n\t\t\tmargin:5px;\r\n\t\t}\r\n\t}\r\n\t.items:last-child{\r\n\t\tborder-bottom:none;\r\n\t}\r\n}\t\r\n.uploaded-img{\r\n\twidth: 80px;\r\n\theight: 60px;\r\n\tobject-fit: cover;\r\n\tmargin-right: 10px;\r\n}\r\n.flileClass{\r\n\twidth:160px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settled.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settled.vue?vue&type=template&id=caaa2358&scoped=true&\"\nimport script from \"./Settled.vue?vue&type=script&lang=js&\"\nexport * from \"./Settled.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settled.vue?vue&type=style&index=0&id=caaa2358&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"caaa2358\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}