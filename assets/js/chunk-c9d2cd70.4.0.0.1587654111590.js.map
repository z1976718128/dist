{"version":3,"sources":["webpack:///./src/views/Card.vue?c41f","webpack:///./src/views/Card.vue?c383","webpack:///src/views/Card.vue","webpack:///./src/views/Card.vue?f80e","webpack:///./src/views/Card.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","card","head_img","_v","_s","name","type","publicPath","_e","position","company","_l","tag","index","key","class","getTagClass","formatAttrs","isSecret","mobile","c_address","email","company_url","integral","demand_count","solve_count","p_profile","c_profile","handleSubmit","id","userInfo","staticRenderFns","components","data","val","demandReasonStatus","computed","is_exchange","methods","from","$router","back","replace","Array","isArray","arr","filter","component"],"mappings":"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","file":"assets/js/chunk-c9d2cd70.4.0.0.1587654111590.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=0f528a4c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=0f528a4c&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-center-page\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"border\":\"\",\"title\":\"查看名片\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}}),_c('div',{staticClass:\"user_info\",attrs:{\"id\":\"modifyUserInfo\"}},[_c('div',{staticClass:\"user_info_con\"},[_c('div',{staticClass:\"clear user_info_detail\"},[_c('div',{staticClass:\"avatar_wrap\"},[_c('div',{staticClass:\"avatar\"},[_c('van-image',{attrs:{\"width\":\"70\",\"height\":\"70\",\"fit\":\"cover\",\"src\":_vm.card.head_img}})],1)]),_c('div',{staticClass:\"personal_wrap\"},[_c('p',{staticClass:\"userName\"},[_c('span',[_vm._v(_vm._s(_vm.card.name))]),(_vm.card.type === '1')?_c('img',{staticClass:\"level-icon\",attrs:{\"src\":(_vm.publicPath + \"img/level-2.png\"),\"alt\":\"\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.card.position))])]),_c('p',{staticClass:\"company\"},[_vm._v(_vm._s(_vm.card.company))]),(_vm.card.industry_names)?_c('div',{staticClass:\"label\"},[_vm._l((_vm.card.industry_names),function(tag,index){return _c('van-tag',{key:index,class:['tag', _vm.getTagClass(index)],attrs:{\"color\":index === 0 ? '#00c08b' : '#ff6e1d'}},[_vm._v(_vm._s(tag))])}),_vm._l((_vm.formatAttrs(_vm.card.attrs)),function(tag,index){return _c('van-tag',{key:index,class:['tag', 'normal'],attrs:{\"color\":index === 0 ? '#00c08b' : '#ff6e1d'}},[_vm._v(_vm._s(tag))])})],2):_c('div',{staticClass:\"label\"},_vm._l((_vm.formatAttrs(_vm.card.attrs)),function(tag,index){return _c('van-tag',{key:index,class:['tag', _vm.getTagClass(index)],attrs:{\"color\":index === 0 ? '#00c08b' : '#ff6e1d'}},[_vm._v(_vm._s(tag))])}),1)])]),_c('div',{staticClass:\"user_info_other\"},[_c('p',{staticClass:\"tel\"},[_c('van-icon',{attrs:{\"class-prefix\":\"tj-icon\",\"name\":\"contact\"}}),_vm._v(\"\\n            电话号码：\"+_vm._s(_vm.isSecret ? \"***********\" : _vm.card.mobile)+\"\\n          \")],1),_c('p',{staticClass:\"address\"},[_c('van-icon',{attrs:{\"class-prefix\":\"tj-icon\",\"name\":\"biaodiandidian\"}}),_vm._v(\"\\n            公司地址：\"+_vm._s(_vm.card.c_address)+\"\\n          \")],1),_c('p',{staticClass:\"email\"},[_c('van-icon',{attrs:{\"class-prefix\":\"tj-icon\",\"name\":\"youjian\"}}),_vm._v(\"\\n            电子邮箱：\"+_vm._s(_vm.isSecret ? \"*****@*****\" : _vm.card.email)+\"\\n          \")],1),_c('p',{staticClass:\"httpInfo\"},[_c('van-icon',{attrs:{\"class-prefix\":\"tj-icon\",\"name\":\"wangzhi\"}}),_vm._v(\"\\n            公司网址：\"+_vm._s(_vm.isSecret ? \"***********\" : _vm.card.company_url)+\"\\n          \")],1)])])]),_c('van-cell-group',{staticClass:\"cell-group\"},[_c('van-row',{staticClass:\"row\"},[_c('van-col',{staticClass:\"kv\",attrs:{\"span\":\"8\"}},[_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.card.integral))]),_c('span',{staticClass:\"key\"},[_vm._v(\"积分\")])]),_c('van-col',{staticClass:\"kv\",attrs:{\"span\":\"8\"}},[_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.card.demand_count || 0))]),_c('span',{staticClass:\"key\"},[_vm._v(\"需求发布\")])]),_c('van-col',{staticClass:\"kv\",attrs:{\"span\":\"8\"}},[_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.card.solve_count || 0))]),_c('span',{staticClass:\"key\"},[_vm._v(\"需求解决\")])])],1)],1),_c('van-cell-group',{staticClass:\"cell-group\"},[_c('van-cell',{attrs:{\"title\":\"个人简介\",\"label\":_vm.card.p_profile}}),_c('van-cell',{attrs:{\"title\":\"公司简介\",\"label\":_vm.card.c_profile}})],1),_c('van-row',{staticClass:\"bottom-bar cell-group\"},[_c('van-button',{attrs:{\"square\":\"\",\"block\":\"\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")]),(_vm.isSecret)?_c('van-button',{attrs:{\"block\":\"\",\"square\":\"\",\"type\":\"danger\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"交换名片\")]):(_vm.card.id !== _vm.userInfo.id)?_c('van-button',{attrs:{\"block\":\"\",\"square\":\"\",\"type\":\"danger\",\"url\":(\"tel:\" + (_vm.card.mobile))}},[_vm._v(\"联系对方\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-center-page\">\r\n    <van-nav-bar\r\n      fixed\r\n      border\r\n      title=\"查看名片\"\r\n      left-arrow\r\n      @click-left=\"goBack\"\r\n    />\r\n    <div class=\"user_info\" id=\"modifyUserInfo\">\r\n      <div class=\"user_info_con\">\r\n        <div class=\"clear user_info_detail\">\r\n          <div class=\"avatar_wrap\">\r\n            <div class=\"avatar\">\r\n              <!-- <div\r\n                class=\"image_info\"\r\n                :style=\"`background-image: url(${card.head_img});`\"\r\n              ></div> -->\r\n\t\t\t  <van-image\r\n\t\t\t    width=\"70\"\r\n\t\t\t    height=\"70\"\r\n\t\t\t\t fit=\"cover\"\r\n\t\t\t    :src=\"card.head_img\"\r\n\t\t\t\t\r\n\t\t\t  />\r\n            </div>\r\n\t\t\t\r\n          </div>\r\n          <div class=\"personal_wrap\">\r\n            <p class=\"userName\">\r\n              <span>{{ card.name }}</span>\r\n              <img\r\n                class=\"level-icon\"\r\n                v-if=\"card.type === '1'\"\r\n                :src=\"`${publicPath}img/level-2.png`\"\r\n                alt=\"\"\r\n              />\r\n              <span>{{ card.position }}</span>\r\n            </p>\r\n            <p class=\"company\">{{ card.company }}</p>\r\n            <div class=\"label\" v-if=\"card.industry_names\">\r\n              <van-tag\r\n                :class=\"['tag', getTagClass(index)]\"\r\n                v-for=\"(tag, index) in card.industry_names\"\r\n                :key=\"index\"\r\n                :color=\"index === 0 ? '#00c08b' : '#ff6e1d'\"\r\n                >{{ tag }}</van-tag\r\n              >\r\n              <van-tag\r\n                :class=\"['tag', 'normal']\"\r\n                v-for=\"(tag, index) in formatAttrs(card.attrs)\"\r\n                :key=\"index\"\r\n                :color=\"index === 0 ? '#00c08b' : '#ff6e1d'\"\r\n                >{{ tag }}</van-tag\r\n              >\r\n            </div>\r\n\r\n            <div class=\"label\" v-else>\r\n              <van-tag\r\n                :class=\"['tag', getTagClass(index)]\"\r\n                v-for=\"(tag, index) in formatAttrs(card.attrs)\"\r\n                :key=\"index\"\r\n                :color=\"index === 0 ? '#00c08b' : '#ff6e1d'\"\r\n                >{{ tag }}</van-tag\r\n              >\r\n            </div>\r\n            <!-- <p class=\"label\">\r\n              <van-tag\r\n                :class=\"getTagClass(index)\"\r\n                v-for=\"(item, index) in card.attrs\"\r\n                :key=\"index\"\r\n                >{{ item }}</van-tag\r\n              >\r\n            </p> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"user_info_other\">\r\n          <p class=\"tel\">\r\n            <van-icon class-prefix=\"tj-icon\" name=\"contact\" />\r\n            电话号码：{{ isSecret ? \"***********\" : card.mobile }}\r\n          </p>\r\n          <p class=\"address\">\r\n            <van-icon class-prefix=\"tj-icon\" name=\"biaodiandidian\" />\r\n            公司地址：{{ card.c_address }}\r\n          </p>\r\n          <p class=\"email\">\r\n            <van-icon class-prefix=\"tj-icon\" name=\"youjian\" />\r\n            电子邮箱：{{ isSecret ? \"*****@*****\" : card.email }}\r\n          </p>\r\n          <p class=\"httpInfo\">\r\n            <van-icon class-prefix=\"tj-icon\" name=\"wangzhi\" />\r\n            公司网址：{{ isSecret ? \"***********\" : card.company_url }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <van-cell-group class=\"cell-group\">\r\n      <van-row class=\"row\">\r\n        <van-col span=\"8\" class=\"kv\">\r\n          <span class=\"value\">{{ card.integral }}</span>\r\n          <span class=\"key\">积分</span>\r\n        </van-col>\r\n        <van-col span=\"8\" class=\"kv\">\r\n          <span class=\"value\">{{ card.demand_count || 0 }}</span>\r\n          <span class=\"key\">需求发布</span>\r\n        </van-col>\r\n        <van-col span=\"8\" class=\"kv\">\r\n          <span class=\"value\">{{ card.solve_count || 0 }}</span>\r\n          <span class=\"key\">需求解决</span>\r\n        </van-col>\r\n      </van-row>\r\n    </van-cell-group>\r\n\r\n    <van-cell-group class=\"cell-group\">\r\n      <van-cell title=\"个人简介\" :label=\"card.p_profile\" />\r\n      <van-cell title=\"公司简介\" :label=\"card.c_profile\" />\r\n    </van-cell-group>\r\n\r\n    <van-row class=\"bottom-bar cell-group\">\r\n      <van-button @click=\"goBack\" square block>返回</van-button>\r\n      <van-button\r\n        v-if=\"isSecret\"\r\n        block\r\n        square\r\n        type=\"danger\"\r\n        @click=\"handleSubmit\"\r\n        >交换名片</van-button\r\n      >\r\n      <van-button\r\n        v-else-if=\"card.id !== userInfo.id\"\r\n        block\r\n        square\r\n        type=\"danger\"\r\n        :url=\"`tel:${card.mobile}`\"\r\n        >联系对方</van-button\r\n      >\r\n    </van-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapState, mapActions } from \"vuex\";\r\nimport { NavBar, Button, Cell, CellGroup, Icon, Row, Col, Tag,Image } from \"vant\";\r\nimport { getCard, changeCard } from \"../api/base\";\r\nimport { getDemandById, integral } from \"../api/demand\";\r\nimport { setShare } from \"../wechat\";\r\nimport { PAGE_BASE_URL } from \"../config\";\r\nexport default {\r\n  name: \"user-center\",\r\n  components: {\r\n    [CellGroup.name]: CellGroup,\r\n    [NavBar.name]: NavBar,\r\n    [Icon.name]: Icon,\r\n    [Cell.name]: Cell,\r\n    [Row.name]: Row,\r\n    [Col.name]: Col,\r\n    [Tag.name]: Tag,\r\n    [Button.name]: Button,\r\n\t[Image.name]: Image,\r\n\t\r\n  },\r\n  data() {\r\n    return {\r\n      val: \"\",\r\n      card: {},\r\n      publicPath: process.env.BASE_URL,\r\n      demandReasonStatus: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"from\"]),\r\n    ...mapGetters([\"userInfo\"]),\r\n    isSecret() {\r\n      return this.card.is_exchange === 0 && this.demandReasonStatus !== \"1\";\r\n    }\r\n  },\r\n  async mounted() {\r\n    integral({ key: \"ExchangeCards\", type: 0 }).then(res => {\r\n      this.val = res.value;\r\n    });\r\n    const data = await getCard({\r\n      from_user_id: this.userInfo.id,\r\n      user_id: this.$route.params.id\r\n    });\r\n\tconsole.log(data,123465)\r\n\tconst desc = `${\r\n\t  data.name\r\n\t}。点击查看房源详情`;\r\n\tconst link = PAGE_BASE_URL + \"#/cards/\" + data.id;\r\n\tsetTimeout(() => {\r\n\t  setShare({\r\n\t    title: \"您的好友正在天集社，快去看看吧\", // 分享标题\r\n\t    desc,\r\n\t    link\r\n\t  });\r\n\t}, 1000);\r\n    const attrs = this.formatAttrs(data.attrs);\r\n    this.card = {\r\n      ...data,\r\n      attrs\r\n    };\r\n    if (this.userInfo.id === this.$route.params.id) {\r\n      this.card.is_exchange = 1;\r\n    }\r\n\r\n    const demand_id = this.$route.query.demand_id;\r\n    if (demand_id) {\r\n      const demand = await getDemandById({\r\n        id: demand_id,\r\n        uid: this.userInfo.id\r\n      });\r\n      let demandReason = {};\r\n      if (this.userInfo.id === demand.user_id) {\r\n        demandReason = demand.reason_data.find(\r\n          item => item.user_id === this.$route.params.id\r\n        );\r\n      } else {\r\n        demandReason = demand.reason_data.find(\r\n          item => item.user_id === this.userInfo.id\r\n        );\r\n      }\r\n      this.demandReasonStatus = demandReason ? demandReason.status : \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"fetchUserInfo\"]),\r\n    // 点击返回按钮\r\n    goBack() {\r\n      if (this.from) {\r\n        this.$router.back();\r\n      } else {\r\n        this.$router.replace(\"/demands\");\r\n      }\r\n    },\r\n    getTagClass(index) {\r\n      if (index === 0) return \"first\";\r\n      if (index === 1) return \"second\";\r\n      return \"normal\";\r\n    },\r\n    async handleSubmit() {\r\n      // 处理“发布需求”按钮点击事件\r\n      await this.fetchUserInfo(this.userInfo.id);\r\n      if (this.userInfo.is_black == 1) {\r\n        this.$dialog\r\n          .alert({\r\n            title: \"温馨提示\",\r\n            message: \"您没有此权限，请联系平台管理员\\n（电话：15602908103）\",\r\n            confirmButtonText: \"确认\"\r\n          })\r\n          .then(() => {\r\n            console.log(\"confirm dialog\");\r\n          });\r\n        return;\r\n      }\r\n      if (this.userInfo.status !== \"2\") {\r\n        this.$dialog\r\n          .confirm({\r\n            title: \"温馨提示\",\r\n            message: \"您需要注册后才能进行该操作哦\",\r\n            confirmButtonText: \"马上注册\",\r\n            cancelButtonText: \"稍后再说\"\r\n          })\r\n          .then(() => {\r\n            if (this.userInfo.is_subscribe === \"1\") {\r\n              this.$router.push(\"/my-card\");\r\n            } else {\r\n              // this.$router.replace(\"/follow-us\");\r\n\t\t\t  console.log(\"未注册用户\")\r\n            }\r\n          })\r\n          .catch(() => {\r\n            // on cancel\r\n            console.log(\"cancel dialog\");\r\n          });\r\n        return;\r\n      } else {\r\n        if (this.userInfo.is_subscribe !== \"1\") {\r\n          // this.$router.replace(\"/follow-us\");\r\n\t\t  console.log(\"未注册用户\")\r\n          return;\r\n        }\r\n      }\r\n      if (this.userInfo.integral < 5) {\r\n        this.$dialog\r\n          .confirm({\r\n            title: \"温馨提示\",\r\n            message: \"当前积分不足，无法交换名片，请充值后再申请\",\r\n            confirmButtonText: \"马上充值\",\r\n            cancelButtonText: \"稍后再说\"\r\n          })\r\n          .then(() => {\r\n            this.$router.push(\"/incharge\");\r\n          })\r\n          .catch(() => {\r\n            // on cancel\r\n            console.log(\"cancel dialog\");\r\n          });\r\n\r\n        return;\r\n      }\r\n\r\n      try {\r\n        if (this.userInfo.is_vip == 1) {\r\n        \tthis.$dialog\r\n        \t  .alert({\r\n        \t    title: \"温馨提示\",\r\n        \t    message: `申请成功。请耐心等待对方通过`,\r\n        \t    confirmButtonText: \"确认\"\r\n        \t  })\r\n        } else{\r\n        \tawait changeCard({\r\n        \t  user_id: this.userInfo.id,\r\n        \t  from_user_id: this.$route.params.id\r\n        \t});\r\n        \tthis.$dialog\r\n        \t  .alert({\r\n        \t    title: \"温馨提示\",\r\n        \t    message: `申请成功。扣除${this.val}积分 请耐心等待对方通过`,\r\n        \t    confirmButtonText: \"确认\"\r\n        \t  })\r\n        \t  .then(() => {\r\n        \t    this.goBack();\r\n        \t  });\r\n        }\r\n      } catch (e) {\r\n        this.$dialog\r\n          .alert({\r\n            title: \"温馨提示\",\r\n            message: e.message,\r\n            confirmButtonText: \"确认\"\r\n          })\r\n          .then(() => {\r\n            console.log(\"confirm dialog\");\r\n          });\r\n      }\r\n    },\r\n    formatAttrs(attrs) {\r\n      if (Array.isArray(attrs)) {\r\n        return attrs;\r\n      }\r\n      const arr = attrs ? attrs.split(\"/\") : [];\r\n      return arr.filter(item => !!item && item !== \"undefined\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.red {\r\n  color: #c11823;\r\n}\r\n\r\n.user_info .personal_wrap .userName .level-icon {\r\n  width: 20px;\r\n  vertical-align: middle;\r\n  display: inline-block;\r\n  margin-right: 7px;\r\n}\r\n\r\n.label {\r\n  .first {\r\n    background-color: #00c08b !important;\r\n  }\r\n  .second {\r\n    background-color: #ff6e1d !important;\r\n  }\r\n  .normal {\r\n    background-color: #fff !important;\r\n    color: #000 !important;\r\n    border: 1px solid blue !important;\r\n  }\r\n}\r\n\r\n.right-icon {\r\n  height: 24px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n.cell-group {\r\n  margin-top: 12px;\r\n}\r\n\r\n.level-1 {\r\n  color: #999999;\r\n  margin-left: 20px;\r\n\r\n  img {\r\n    width: 24px;\r\n    vertical-align: bottom;\r\n  }\r\n}\r\n\r\n.kv {\r\n  text-align: center;\r\n  padding: 20px 15px;\r\n\r\n  .value {\r\n    font-size: 28px;\r\n    font-weight: 600;\r\n    display: block;\r\n  }\r\n\r\n  .key {\r\n    font-size: 14px;\r\n    color: #999999;\r\n  }\r\n}\r\n\r\n.user_info {\r\n  padding: 10px 15px;\r\n  background-color: #ffffff;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n\r\n.user_info p {\r\n  margin: 0;\r\n}\r\n\r\n.user_info .user_info_con {\r\n  padding-right: 15px;\r\n}\r\n\r\n.user_info .user_info_detail {\r\n  position: relative;\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n}\r\n\r\n.user_info .avatar,\r\n.user_info .avatar .image_info {\r\n  width: 70px;\r\n  height: 70px;\r\n}\r\n\r\n.user_info .avatar .image_info {\r\n  background-position: center center;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.user_info .avatar {\r\n  overflow: hidden;\r\n  border: 1px solid #eee;\r\n  // border-radius: 60px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.user_info .personal_wrap {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n}\r\n\r\n.user_info .personal_wrap p {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.user_info .personal_wrap p:not(:first-of-type),\r\n.user_info .user_info_other p:not(:first-of-type) {\r\n  margin-top: 0.2rem;\r\n}\r\n\r\n.user_info .personal_wrap .userName {\r\n  display: table;\r\n}\r\n\r\n.user_info .personal_wrap .userName span {\r\n  display: table-cell;\r\n  vertical-align: bottom;\r\n}\r\n\r\n.user_info .personal_wrap .userName span:nth-of-type(1) {\r\n  font-size: 17px;\r\n  color: #000000;\r\n  padding-right: 7px;\r\n}\r\n\r\n.user_info .personal_wrap .userName span:nth-of-type(2),\r\n.user_info .personal_wrap .company {\r\n  font-size: 12px;\r\n  color: #999999;\r\n}\r\n\r\n.user_info .personal_wrap .label span {\r\n  display: inline-block;\r\n  min-height: 22px;\r\n  line-height: 22px;\r\n  padding: 0 0.35rem;\r\n  border-radius: 0.15rem;\r\n  color: #ffffff;\r\n  font-size: 12px;\r\n}\r\n\r\n.user_info .personal_wrap .label span {\r\n  margin-right: 7px;\r\n  margin-top: 5px;\r\n}\r\n\r\n.user_info .user_info_more {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  -webkit-transform: translateY(-50%);\r\n  right: 15px;\r\n}\r\n\r\n.user_info .user_info_other p {\r\n  color: #000000;\r\n  font-size: 14px;\r\n}\r\n\r\n.user_info .user_info_other p i {\r\n  color: #c11823;\r\n  margin-right: 7px;\r\n}\r\n\r\n.user-center-page {\r\n  padding-bottom: 45px;\r\n}\r\n\r\n.bottom-bar {\r\n  position: absolute;\r\n  display: flex;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 750px) {\r\n  .user_info .personal_wrap .userName .level-icon {\r\n    width: 20px;\r\n    margin-right: 7px;\r\n  }\r\n\r\n  .right-icon {\r\n    height: 24px;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n  }\r\n\r\n  .cell-group {\r\n    margin-top: 12px;\r\n  }\r\n\r\n  .level-1 {\r\n    margin-left: 20px;\r\n\r\n    img {\r\n      width: 24px;\r\n    }\r\n  }\r\n\r\n  .kv {\r\n    padding: 20px 15px;\r\n\r\n    .value {\r\n      font-size: 28px;\r\n    }\r\n\r\n    .key {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .user_info {\r\n    padding: 10px 15px;\r\n  }\r\n\r\n  .user_info .user_info_con {\r\n    padding-right: 15px;\r\n  }\r\n\r\n  .user_info .user_info_detail {\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .user_info .avatar,\r\n  .user_info .avatar .image_info {\r\n    width: 70px;\r\n    height: 70px;\r\n  }\r\n\r\n  .user_info .avatar {\r\n    // border-radius: 60px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .user_info .personal_wrap .userName span:nth-of-type(1) {\r\n    font-size: 17px;\r\n    padding-right: 7px;\r\n  }\r\n\r\n  .user_info .personal_wrap .userName span:nth-of-type(2),\r\n  .user_info .personal_wrap .company {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .user_info .personal_wrap .label span {\r\n    min-height: 22px;\r\n    line-height: 22px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .user_info .personal_wrap .label span {\r\n    margin-right: 7px;\r\n    margin-top: 5px;\r\n  }\r\n\r\n  .user_info .user_info_more {\r\n    right: 15px;\r\n  }\r\n\r\n  .user_info .user_info_other p {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .user_info .user_info_other p i {\r\n    margin-right: 7px;\r\n  }\r\n\r\n  .user-center-page {\r\n    padding-bottom: 45px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=0f528a4c&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=0f528a4c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f528a4c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}